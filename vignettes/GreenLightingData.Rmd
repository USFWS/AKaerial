---
title: "GreenLighting Data"
author: "Charles Frost"
date: "24 September 2020"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{GreenLightingData}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, echo=FALSE}
library(AKaerial)
```


## Data Quality and Integrity
Data quality and integrity are properties of a data set that make it accurate, usable, and useful for its intended purpose.  Data would be considered high quality and high integrity if they were treated consistently and accurately throughout the data life cycle, in a format that facilitates use, and collected logically and appropriately for their intended purpose.  In contrast, low quality or low integrity data will generally have little to no effort put into consistency or accuracy, exist in an unusable (untidy or not machine-readable) state, and have been collected under variable interpretations of study design or protocol.  Low quality data are often logically inappropriate for use in any decision making due to the questionable and dynamic information content contained therein.  

Long term (> 10 years) data sets often exist in a low quality, low integrity state for a variety of reasons:

  * Multiple data collectors among and even within years lead to often untraceable interpretations of the study design or protocol.
  * Lack of appropriate archival procedures lead to lost data or lost documentation for data sets.
  * Staff turnover accelerates decay of information content as institutional knowledge is lost.
  * Data files are copied for personal use, then manipulated or overwritten, resulting in multiple and differing versions of the same data set. 
  * Instrument accuracy (including observer proficiency) changes over time in a untracked manner.
  
AKaerial attempts to standardize aerial survey data files and begin a consistent treatment of data fields moving forward, but doing so will inevitably result in the discovery of errors, inconsistencies, and unusable information in past data.  The current workflow includes archiving the raw historic data file, generating a report that details where and how data do not conform to defined standards, fixing any errors that _do not_ require interpretation and _do not_ result in a loss of information and documenting any changes, and finally creating an archivable data file that is explicitly usable in AKaerial for the purpose of generating index estimates and visualizing results.

## Input Data Requirements
In order to be processed correctly using [GreenLight,](../help/GreenLight) an input data file must be in the correct file format and contain the minimum set of columns (named correctly).  
  
  1. The input file must be either .txt (plain text) or .csv (comma-delimited text).
  1. Any missing values must be entered as NA, na, or N/A. 
  1. The following columns are required and must be named correctly (case-sensitive):
      * __Year__ - 4 digit integer representing the year of the observation
      * __Month__ - 2 digit integer representing the month of the observation
      * __Day__ - 1 or 2 digit integer representing the day of the observation
      * __Seat__ - 2 character representation of seat assignment; 
          * RF (right front)
          * LF (left front)
          * RR (right rear)
          * LR (left rear)
      * __Observer__ - 3 character initials of the observer (such as CJF, all capitalized, or C_F)
      * __Stratum__ - character string (or numeric, treated as string) representing the stratum the observation was in (if known by the observer)
      * __Transect__ - character string (or numeric, treated as string) of the DESIGN FILE transect number
      * __Segment__ - character string (or numeric, treated as string) of the transect segment (if known)
      * __Flight_Dir__ - character string of flight direction (numeric as degrees, character cardinal or intercardinal directions)
      * __A_G_Name__ - character string of air to ground segment ID
      * __Wind_Dir__ - character string of wind direction based on 8 point cardinal/intercardinal directions
      * __Wind_Vel__ - integer representing wind speed in knots
      * __Sky__ - character string representing sky condition (clear, scattered, etc.)
      * __Filename__ - character string representing .wav file recording for the associated observation
      * __Lat__ - floating decimal representing decimal degrees of latitude in WGS84 datum
      * __Lon__ - floating decimal representing decimal degrees of longitude in WGS84 datum
      * __Time__ - floating decimal representing computer clock seconds past midnight
      * __Delay__ - floating decimal representing the delay in clock time and GPS system time in seconds
      * __Species__ - 4 character string representing the acceptable species code for an observation
      * __Num__ - up to 5 digit integer representing the number of a particular Obs_Type seen
      * __Obs_Type__ - character string representing observation type:
          * single - one lone drake (dimorphic species) or lone bird (monomorphic species)
          * pair - hen and drake in close association (dimorphic species) or 2 birds in close association (monomorphic species)
          * open - a mixed sex flock that can't be classified as single, pair, or flkdrake
          * flkdrake - 2 or more drakes in close association
      * __Behavior__ - character string representing observed behavior:
          * diving
          * flying
          * swimming
          * NA
      * __Distance__ - character string representing distance from the observer:
          * near
          * far 
          * NA
      * __Code__ - integer representing the use of the data in analysis:
          * 1- use in standard index estimate
          * 2- use as double observer only
          * 3- additional data collected but not used in analysis
      * __Notes__ - character string reserved for additional comments

If these 3 conditions are minimally satisfied (additional columns are allowed, but won't be tested), the file can be checked against the predefined standards using [GreenLight](../help/GreenLight).

